---
title: "Introduction to mashr"
author: "Matthew Stephens"
date: "May 26, 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Goal

This vignette introduces the `mashr` software for someone who
is familiar with the basic idea in Urbut et al.

# Outline

There are a few steps to a mash analysis

- Read in the data
- Set up "canonical" covariance matrices (e.g. the bmalite matrices).
- Set up the "data-driven" covariance matrices.
    + locate the top signals (usually by a "condition-by-condition" or "1-by-1" analysis)
    + use these top signals to compute data-driven covariance matrices
- Fit the model and compute posterior summaries

Here we do each of these step-by-step.

# Simple simulation

First we simulate some data for illustration
```{r}
  library("mashr2")
  set.seed(1)
  data = simple_sims(1000,5,1)
```

# Step 1: run with canonical covariance matrices
```{r}

```

